<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.contextFile org.eventb.core.configuration="org.eventb.core.fwd;de.prob.symbolic.ctxBase" version="3">
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="=" org.eventb.core.identifier="at"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="';" org.eventb.core.identifier="smiled_at"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="'=" org.eventb.core.identifier="cried_at"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="'r" org.eventb.core.identifier="next"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="&gt;" org.eventb.core.identifier="arrive_at"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="'9" org.eventb.core.identifier="play_at"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="?" org.eventb.core.identifier="travel"/>
    <org.eventb.core.axiom name="E" org.eventb.core.label="axm1" org.eventb.core.predicate="partition(Belief_predicates, {at}, {smiled_at}, {cried_at},{next})"/>
    <org.eventb.core.axiom name="F" org.eventb.core.label="axm2" org.eventb.core.predicate="partition(Events, {arrive_at}, {play_at})"/>
    <org.eventb.core.axiom name="x" org.eventb.core.label="axm3" org.eventb.core.predicate="partition(Actions, {travel}, {smile_at}, {cry_at})"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="'@" org.eventb.core.identifier="smile_at"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="'A" org.eventb.core.identifier="cry_at"/>
    <org.eventb.core.axiom name="'H" org.eventb.core.label="axm5" org.eventb.core.predicate="Preconditions={terms1,terms2·&#10;&#9;terms1∈Point∧terms2∈Point&#10;∣ travel↦Vector(terms1↦terms2)↦(at↦terms1)}∪{terms·terms∈Point&#10;∣ smile_at↦terms↦(at↦terms)}∪{terms· terms∈Point&#10;∣ cry_at↦terms↦(at↦terms)}"/>
    <org.eventb.core.axiom name="'I" org.eventb.core.label="axm6" org.eventb.core.predicate="Addition_sets={terms,terms1,terms2·terms1∈Point∧terms2∈Point∧terms=Vector(terms1↦terms2)∣&#10;&#9;travel↦terms↦(at↦terms2)}&#10;&#9;∪{terms·terms∈Point∣cry_at↦terms↦(cried_at↦terms)}&#10;&#9;∪{terms·terms∈Point∣smile_at↦terms↦(smiled_at↦terms)}"/>
    <org.eventb.core.axiom name="'X" org.eventb.core.label="axm7" org.eventb.core.predicate="Deletion_sets={terms1,terms2·terms1∈Point∧terms2∈Point∣&#10;&#9;travel↦Vector(terms1↦terms2)↦(at↦terms1)}"/>
    <org.eventb.core.extendsContext name="'S" org.eventb.core.target="BDIcontext"/>
    <org.eventb.core.axiom name="'c" org.eventb.core.label="axm12" org.eventb.core.predicate="Initial_belief_base ={(at ↦ a),next↦Vector(a↦b),next↦Vector(b↦c),next↦Vector(a↦c)}"/>
    <org.eventb.core.axiom name="'d" org.eventb.core.label="axm13" org.eventb.core.predicate="Initial_external_event_set ={(arrive_at↦c)}"/>
    <org.eventb.core.axiom name="'i" org.eventb.core.label="axm14" org.eventb.core.predicate="plan_body_plan1 ∈ ℙ(Belief_predicates×Terms)×Terms ⇸ ℙ(UserP(Belief_predicates,None_belief_predicates,Terms)) "/>
    <org.eventb.core.axiom name="'j" org.eventb.core.label="axm15" org.eventb.core.predicate="plan_body_plan2 ∈ ℙ(Belief_predicates×Terms)×Terms ⇸ ℙ(UserP(Belief_predicates,None_belief_predicates,Terms))  "/>
    <org.eventb.core.axiom name="'k" org.eventb.core.label="axm16" org.eventb.core.predicate="plan_body_plan3 ∈ ℙ(Belief_predicates×Terms)×Terms ⇸ ℙ(UserP(Belief_predicates,None_belief_predicates,Terms))"/>
    <org.eventb.core.axiom name="'l" org.eventb.core.label="axm17" org.eventb.core.predicate="plan_body_plan4 ∈ ℙ(Belief_predicates×Terms)×Terms ⇸ ℙ(UserP(Belief_predicates,None_belief_predicates,Terms))"/>
    <org.eventb.core.axiom name="'M" org.eventb.core.label="axm18" org.eventb.core.predicate="plan_body_plan1=(λbelief↦terms3· &#10;&#9;&#9;&#9;&#9;terms3∈Point ∣ {terms1,terms2·&#10;&#9;&#9;&#9;&#9;terms2∈Point&#10;&#9;&#9;&#9;&#9;∧ terms1∈Point&#10;&#9;&#9;&#9;&#9;∧ next↦Vector(terms1↦terms2)∈belief&#10;&#9;&#9;&#9;&#9;∧ next↦Vector(terms2↦terms3)∈belief&#10;&#9;&#9;&#9;&#9;∧ at↦terms1∈ belief &#10;&#9;&#9;&#9;&#9;∣ Seq(BasicP(travel ↦ Vector(terms1↦terms2)), Seq(Goal({smiled_at ↦ terms2}, play_at ↦ terms2, {cried_at ↦ terms2}), BasicP(travel ↦ Vector(terms2↦terms3))))})&#10;"/>
    <org.eventb.core.axiom name="'U" org.eventb.core.label="axm19" org.eventb.core.predicate="plan_body_plan2=(λbelief↦terms2·terms2∈Point∣{terms1· &#10;&#9;&#9;&#9;&#9; terms1∈Point&#10;&#9;&#9;&#9;&#9;∧ next↦Vector(terms1↦terms2)∈belief&#10;&#9;&#9;&#9;&#9;∧ at↦terms1∈ belief  &#9;  &#10;&#9;&#9;&#9;&#9;∣ BasicP(travel ↦ Vector(terms1↦terms2))})"/>
    <org.eventb.core.axiom name="'m" org.eventb.core.comment="I change the formulation, to remove the well defined condition on the function,&#10; because in the previous definition when we apply the plan body 3 to a concrete belief&#10; we must ensure that belief verify the precondition that not allways the case.&#10; In this new definition if the precondition is not verify. it will return a empty set. &#10;and need to be deal exactly the same as other plan when no intermediate terms can &#10;satisfy the precondition of the plan.  And to do the union in Plan_body_def also" org.eventb.core.label="axm20" org.eventb.core.predicate="plan_body_plan3=(λbelief↦terms1· &#10;&#9;&#9;&#9;&#9;terms1∈Point∣{terms1bis·&#10;&#9;&#9;&#9;&#9; at↦terms1bis∈belief∧terms1bis=terms1∣BasicP(smile_at ↦ terms1bis)}) "/>
    <org.eventb.core.axiom name="'V" org.eventb.core.label="axm21" org.eventb.core.predicate="plan_body_plan4=(λbelief↦terms1· &#10;&#9;&#9;&#9;&#9;terms1∈Point∣{terms1bis·&#10;&#9;&#9;&#9;&#9; at↦terms1bis∈belief∧terms1bis=terms1∣BasicP(cry_at ↦ terms1bis)})"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="'n" org.eventb.core.identifier="plan_body_plan1"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="'q" org.eventb.core.identifier="plan_body_plan2"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="'p" org.eventb.core.identifier="plan_body_plan3"/>
    <org.eventb.core.constant de.prob.symbolic.symbolicAttribute="false" name="'o" org.eventb.core.identifier="plan_body_plan4"/>
    <org.eventb.core.axiom name="'s" org.eventb.core.label="axm22" org.eventb.core.predicate="Plan_body_def = {arrive_at ↦ (λbelief↦terms1· terms1∈Point ∣ plan_body_plan1(belief↦terms1)∪plan_body_plan2(belief↦terms1)),&#10;&#9;&#9;&#9;&#9;  play_at ↦ ( λbelief↦terms1· terms1∈Point ∣ plan_body_plan3(belief↦terms1)∪plan_body_plan4(belief↦terms1))}"/>
</org.eventb.core.contextFile>
